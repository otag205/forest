<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå≤ –õ–µ—Å–Ω–æ–µ –≤—ã–∂–∏–≤–∞–Ω–∏–µ üå≤</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background: #1f3b1a;
            background-image: repeating-linear-gradient(45deg, #2b4d24 0px, #2b4d24 2px, #1f3b1a 2px, #1f3b1a 8px);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
            font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif;
            overflow-y: auto;  /* –†–∞–∑—Ä–µ—à–∞–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É */
            position: relative;
        }

        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–∏—Å—Ç—å—è –Ω–∞ —Ñ–æ–Ω–µ - —Ç–µ–ø–µ—Ä—å fixed, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–ª–∏—Å—å */
        .floating-leaf {
            position: fixed;
            color: #3a7a3a;
            font-size: 2rem;
            opacity: 0.2;
            pointer-events: none;
            z-index: 0;
            animation: float 15s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0.2; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0.1; }
        }

        /* –ù–µ—Å–∫–æ–ª—å–∫–æ –ª–∏—Å—Ç—å–µ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏ */
        .leaf1 { left: 5%; animation-duration: 18s; animation-delay: 0s; }
        .leaf2 { left: 20%; animation-duration: 22s; animation-delay: 2s; }
        .leaf3 { left: 40%; animation-duration: 20s; animation-delay: 5s; }
        .leaf4 { left: 60%; animation-duration: 25s; animation-delay: 1s; }
        .leaf5 { left: 80%; animation-duration: 17s; animation-delay: 7s; }
        .leaf6 { left: 90%; animation-duration: 19s; animation-delay: 3s; }

        .game-wrapper {
            max-width: 900px;
            width: 100%;
            position: relative;
            z-index: 2;
        }

        .leaf-decoration {
            position: absolute;
            top: -30px;
            left: -30px;
            right: -30px;
            bottom: -30px;
            pointer-events: none;
            z-index: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" opacity="0.2"><path fill="%233d8c40" d="M50,30 Q70,10 90,30 Q100,50 80,70 Q60,80 40,70 Q20,60 30,40 Q35,30 50,30Z" /><path fill="%233d8c40" d="M140,120 Q160,100 180,120 Q190,140 170,160 Q150,170 130,160 Q110,150 120,130 Q125,120 140,120Z" /><path fill="%233d8c40" d="M30,150 Q50,130 70,150 Q80,170 60,190 Q40,200 20,180 Q10,160 30,150Z" /></svg>');
            background-repeat: repeat;
            background-size: 150px 150px;
            animation: sway 10s infinite alternate ease-in-out;
        }

        @keyframes sway {
            0% { transform: rotate(0deg) scale(1); }
            100% { transform: rotate(1deg) scale(1.02); }
        }

        .game-container {
            background: #2d4427;
            background: linear-gradient(145deg, #2d5a2a, #1d3a1a);
            border: 8px solid #6b4f2b;
            border-radius: 70px 70px 30px 30px;
            box-shadow: 0 25px 35px rgba(0,0,0,0.8), inset 0 0 30px #a18b54;
            padding: 25px 20px;
            color: #faf3d7;
            position: relative;
            z-index: 1;
            transition: all 0.3s;
            animation: glowBorder 4s infinite alternate;
        }

        @keyframes glowBorder {
            0% { box-shadow: 0 25px 35px rgba(0,0,0,0.8), inset 0 0 30px #a18b54; }
            100% { box-shadow: 0 25px 45px #2a4a1f, inset 0 0 40px #c8a75a; }
        }

        .game-container::before {
            content: "üåøüå≤üçÇüçÉüå±";
            font-size: 70px;
            position: absolute;
            top: -30px;
            left: -30px;
            opacity: 0.2;
            transform: rotate(-15deg);
            white-space: nowrap;
            pointer-events: none;
            animation: rotateSlow 20s infinite linear;
        }

        @keyframes rotateSlow {
            from { transform: rotate(-15deg); }
            to { transform: rotate(345deg); }
        }

        h1 {
            font-size: 3rem;
            text-align: center;
            font-weight: 800;
            text-shadow: 5px 5px 0 #2c4d1a, 7px 7px 0 #1a3110, 0 10px 15px black;
            margin-bottom: 15px;
            letter-spacing: 4px;
            word-break: break-word;
            color: #ffefc0;
            filter: drop-shadow(0 4px 2px rgba(0,0,0,0.5));
            animation: glow 3s infinite alternate, bob 5s infinite ease-in-out;
        }

        @keyframes glow {
            from { text-shadow: 5px 5px 0 #2c4d1a, 7px 7px 0 #1a3110, 0 0 10px #7faa60; }
            to { text-shadow: 5px 5px 0 #2c4d1a, 7px 7px 0 #1a3110, 0 0 20px #b1d18b; }
        }

        @keyframes bob {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .stats-panel {
            background: #295321;
            background: linear-gradient(to bottom, #3b6933, #1f4219);
            border: 4px solid #b3914b;
            border-radius: 80px 80px 40px 40px;
            padding: 15px;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            gap: 15px;
            margin-bottom: 20px;
            box-shadow: inset 0 5px 10px #14280f, 0 12px 0 #4b3b1f;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stat-item {
            background: #173312;
            border-radius: 60px;
            padding: 8px 15px;
            min-width: 90px;
            text-align: center;
            border: 3px solid #ebc471;
            box-shadow: inset 0 -5px 0 #6b4f1f, 0 6px 0 #3b2e12;
            font-size: 1.1rem;
            font-weight: bold;
            color: #faf0bb;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 800;
            line-height: 1.2;
            color: #fff3a0;
            text-shadow: 3px 3px 0 #2f621f;
        }

        .inventory-box {
            background: #2f5827;
            border: 4px solid #b7974f;
            border-radius: 60px 60px 30px 30px;
            padding: 15px;
            margin: 20px 0;
            box-shadow: inset 0 0 15px #1c3d14, 0 10px 0 #5a431f;
            animation: fadeIn 0.7s;
        }

        .inventory-title {
            font-size: 1.6rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 3px dashed #c7af6b;
            padding-bottom: 8px;
            text-shadow: 2px 2px 0 #1e3a12;
        }

        .inventory-items {
            background: #1d3e18;
            border-radius: 50px;
            padding: 12px;
            min-height: 60px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            border: 2px solid #b49447;
            box-shadow: inset 0 4px 8px #0b2009;
        }

        .item-tag {
            background: #5f874b;
            background: linear-gradient(145deg, #77a35c, #4f703b);
            color: #fff7cf;
            padding: 6px 15px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            box-shadow: 0 4px 0 #2a4a1f, inset 0 2px 8px #ebdd9c;
            border: 1px solid #f3dea2;
            text-transform: lowercase;
            backdrop-filter: blur(2px);
        }

        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0 10px;
            justify-content: center;
        }

        .action-btn {
            background: #84a76b;
            background: linear-gradient(to bottom, #9fc085, #5e8249);
            border: none;
            border-bottom: 5px solid #325023;
            font-size: 1.4rem;
            font-weight: 800;
            padding: 8px 15px;
            min-width: 100px;
            border-radius: 60px;
            color: #1a2e13;
            text-shadow: 1px 1px 0 #c7e2a8;
            cursor: pointer;
            box-shadow: 0 6px 0 #2a451f, 0 8px 12px black;
            transition: all 0.05s linear;
            flex: 1 1 auto;
            letter-spacing: 1px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .action-btn:active {
            transform: translateY(4px);
            border-bottom-width: 2px;
            box-shadow: 0 3px 0 #2a451f;
        }

        .action-btn:disabled {
            opacity: 0.4;
            transform: translateY(2px);
            border-bottom-width: 3px;
            pointer-events: none;
            filter: grayscale(0.6);
        }

        .special-btn {
            background: #cdb87a;
            background: linear-gradient(to bottom, #eedb9f, #b89f5a);
            border-bottom-color: #755e2a;
            color: #2f2a10;
            text-shadow: 1px 1px 0 #ffeeaa;
        }

        .log-area {
            background: #1d341a;
            border: 5px solid #876f3b;
            border-radius: 50px 50px 25px 25px;
            padding: 12px;
            margin-top: 15px;
            max-height: 220px;
            overflow-y: auto;
            font-size: 1rem;
            line-height: 1.4;
            box-shadow: inset 0 0 30px #0e230c, 0 8px 0 #4f3e1f;
            color: #ede3ae;
            scrollbar-width: thin;
            scrollbar-color: #a58f4d #1e3a14;
        }

        .log-area::-webkit-scrollbar {
            width: 8px;
        }
        .log-area::-webkit-scrollbar-track {
            background: #1e3a14;
            border-radius: 20px;
        }
        .log-area::-webkit-scrollbar-thumb {
            background: #a58f4d;
            border-radius: 20px;
            border: 2px solid #4b6a2e;
        }

        .log-message {
            padding: 4px 0;
            border-bottom: 1px solid #6f9146;
            animation: fadeInLog 0.3s;
        }

        @keyframes fadeInLog {
            from { opacity: 0; transform: translateX(10px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .log-message:last-child {
            border: none;
        }

        .start-screen {
            text-align: center;
            padding: 20px;
        }

        .difficulty-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin: 25px 0;
        }

        .diff-btn {
            background: #53833b;
            background: radial-gradient(circle at 30% 20%, #8fc77a, #356128);
            border: 5px solid #fbdf93;
            padding: 12px 25px;
            font-size: 1.6rem;
            font-weight: 800;
            border-radius: 70px;
            color: #1f3815;
            cursor: pointer;
            box-shadow: 0 10px 0 #2c4b1c, 0 15px 20px black;
            transition: 0.05s linear;
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }

        .diff-btn:active {
            transform: translateY(6px);
            box-shadow: 0 4px 0 #2c4b1c;
        }

        .hidden {
            display: none !important;
        }

        .use-item-panel {
            background: #34632a;
            background: linear-gradient(145deg, #49853b, #1e4717);
            border: 5px solid #edcb7a;
            border-radius: 60px;
            padding: 15px;
            margin: 15px 0 10px;
            box-shadow: inset 0 0 20px #9ccf82, 0 8px 0 #5d421c;
            transform-origin: top;
            animation: slideDown 0.2s ease-out;
        }

        @keyframes slideDown {
            0% { opacity: 0; transform: translateY(-20px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .use-item-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
        }

        .use-item-input {
            flex: 3;
            background: #1b3b15;
            border: 3px solid #fad779;
            border-radius: 50px;
            padding: 8px 15px;
            font-size: 1rem;
            color: #fffcd1;
            outline: none;
            box-shadow: inset 0 5px 10px #0b2007;
        }

        .use-item-input::placeholder {
            color: #9fc087;
            font-style: italic;
        }

        .small-btn {
            background: #eed894;
            background: linear-gradient(to bottom, #ffeaa5, #c9aa54);
            border: none;
            border-bottom: 4px solid #83672b;
            font-size: 1.1rem;
            font-weight: bold;
            padding: 8px 15px;
            border-radius: 50px;
            cursor: pointer;
            flex: 1;
            min-width: 100px;
            box-shadow: 0 5px 0 #5c451c, 0 5px 12px black;
            transition: 0.05s;
            color: #1a2d0f;
        }

        .small-btn:active {
            transform: translateY(3px);
            border-bottom-width: 2px;
            box-shadow: 0 2px 0 #5c451c;
        }

        .close-btn {
            background: #bd9d64;
            background: linear-gradient(to bottom, #dbbc7c, #9e7d42);
            border-bottom-color: #60431b;
        }

        .forest-icon {
            font-size: 1.6rem;
            filter: drop-shadow(2px 4px 4px #00000066);
        }

        .extra-notice {
            background: #2d5423;
            border-radius: 40px;
            padding: 6px 12px;
            font-size: 1rem;
            color: #ffe48f;
            text-align: center;
            margin-top: 8px;
            border: 2px solid #c1a351;
        }

        .restart-btn {
            background: #b68b54;
            border: 4px solid #fbdf93;
            font-size: 1.4rem;
            padding: 8px 20px;
            border-radius: 60px;
            color: #1f3815;
            cursor: pointer;
            font-weight: bold;
            margin: 15px auto 0;
            display: block;
            box-shadow: 0 5px 0 #5a431f;
            transition: 0.05s;
            width: fit-content;
        }

        .restart-btn:active {
            transform: translateY(3px);
            box-shadow: 0 2px 0 #5a431f;
        }

        .restart-btn.hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- –ü–ª–∞–≤–∞—é—â–∏–µ –ª–∏—Å—Ç—å—è –Ω–∞ —Ñ–æ–Ω–µ (fixed) -->
    <div class="floating-leaf leaf1">üçÇ</div>
    <div class="floating-leaf leaf2">üçÉ</div>
    <div class="floating-leaf leaf3">üåø</div>
    <div class="floating-leaf leaf4">üçÇ</div>
    <div class="floating-leaf leaf5">üçÉ</div>
    <div class="floating-leaf leaf6">üå±</div>

<div class="game-wrapper">
    <div class="leaf-decoration"></div>
    <div class="game-container" id="gameContainer">
        <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ -->
        <div id="startScreen" class="start-screen">
            <h1><span class="forest-icon">üå≤</span> –õ–ï–°–ù–û–ï –í–´–ñ–ò–í–ê–ù–ò–ï <span class="forest-icon">üå≤</span></h1>
            <div style="font-size: 1.3rem; background: #1e3d1a; padding: 15px; border-radius: 50px; border: 3px solid #cfa55a;">
                <p>‚úß –Ω–∞–±–µ—Ä–∏—Ç–µ 20 —ç–Ω–µ—Ä–≥–∏–∏ ‚úß<br>‚úß —Å–¥–µ–ª–∞–π—Ç–µ ‚â•10 —à–∞–≥–æ–≤ ‚úß<br>‚úß —Å–æ–≤–µ—Ä—à–∏—Ç–µ ‚â•5 –ø—Ä–æ–±–µ–∂–µ–∫ ‚úß<br>‚úß –Ω–∞–π–¥–∏—Ç–µ –ö–û–ú–ü–ê–° ‚úß</p>
            </div>
            <div class="difficulty-selector">
                <div class="diff-btn" data-diff="–ª–µ–≥–∫–æ">üå± –õ–ï–ì–ö–û</div>
                <div class="diff-btn" data-diff="—Å—Ä–µ–¥–Ω–µ">üçÇ –°–†–ï–î–ù–ï</div>
                <div class="diff-btn" data-diff="—Å–ª–æ–∂–Ω–æ">üå™Ô∏è –°–õ–û–ñ–ù–û</div>
            </div>
            <div class="extra-notice">–≤—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–∞—Ö–∞ :)</div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
        <div id="gameScreen" class="hidden">
            <h1>üèïÔ∏è –í –õ–ï–°–£</h1>

            <div class="stats-panel">
                <div class="stat-item"><span class="forest-icon">‚ö°</span> –≠–Ω–µ—Ä–≥–∏—è<br><span class="stat-value" id="energyVal">0</span></div>
                <div class="stat-item"><span class="forest-icon">üö∂</span> –®–∞–≥–∏<br><span class="stat-value" id="stepsVal">0</span></div>
                <div class="stat-item"><span class="forest-icon">üèÉ</span> –ü—Ä–æ–±–µ–∂–∫–∏<br><span class="stat-value" id="runVal">0</span></div>
                <div class="stat-item"><span class="forest-icon">üî¢</span> –•–æ–¥<br><span class="stat-value" id="turnVal">1</span></div>
            </div>

            <div class="inventory-box">
                <div class="inventory-title"><span class="forest-icon">üéí</span> –ò–ù–í–ï–ù–¢–ê–†–¨</div>
                <div class="inventory-items" id="inventoryContainer"></div>
            </div>

            <div class="action-buttons">
                <button class="action-btn" id="goBtn"><span class="forest-icon">üö∂</span> –ò–î–¢–ò</button>
                <button class="action-btn" id="restBtn"><span class="forest-icon">üò¥</span> –û–¢–î–´–•–ê–¢–¨</button>
                <button class="action-btn" id="runBtn"><span class="forest-icon">üèÉ</span> –ë–ï–ñ–ê–¢–¨</button>
                <button class="action-btn special-btn" id="statusBtn"><span class="forest-icon">üì¶</span> –†–Æ–ö–ó–ê–ö</button>
            </div>

            <div id="useItemPanel" class="use-item-panel hidden">
                <div style="font-size: 1.5rem; margin-bottom: 8px;">üçÑ –ß—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?</div>
                <div class="use-item-controls">
                    <input type="text" id="itemInput" class="use-item-input" placeholder="–Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞" autocomplete="off">
                    <button class="small-btn" id="useItemBtn">üëç –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨</button>
                    <button class="small-btn close-btn" id="closeUsePanelBtn">‚ùå –ó–ê–ö–†–´–¢–¨</button>
                </div>
                <div class="extra-notice" style="margin-top: 8px;">* –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: —è–≥–æ–¥—ã, –æ—Ä–µ—à–∫–∏, —á–µ–π-—Ç–æ –±—É—Ç–µ—Ä–±—Ä–æ–¥, –ø–∏—Ä–æ–≥, —è–±–ª–æ–∫–æ, —Ç—Ä–æ—Å—Ç—å, –∫–æ–º–ø–∞—Å</div>
            </div>

            <div class="log-area" id="logContainer">
                <div class="log-message">üå≥ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ª–µ—Å...</div>
            </div>

            <button id="restartBtn" class="restart-btn hidden">üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
        </div>
    </div>
</div>

<script>
    (function() {
        // ---------- –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ----------
        let hod = 1;
        let steps = 0;
        let run = 0;
        let e = 0;
        let inventory = [];
        let gameActive = true;
        let difficulty = "";

        // ---------- –ú–∞—Å—Å–∏–≤—ã —Ñ—Ä–∞–∑ –∏–∑ Python-–∫–æ–¥–∞ ----------
        const walk1 = [
            "–í—ã —Å–ø–æ—Ç–∫–Ω—É–ª–∏—Å—å –æ –∫–æ—Ä–µ–Ω—å -1",
            "–í—ã –∑–∞–ø–Ω—É–ª–∏—Å—å –æ –∫–∞–º–µ–Ω—å -1",
            "–í–∞—Å –æ—Ü–∞—Ä–∞–ø–∞–ª–∞ –≤–µ—Ç–∫–∞ -1",
            "–í—ã —É–ø–∞–ª–∏ -1",
            "–í—ã –ø–æ—Å–∫–æ–ª—å–∑–Ω—É–ª–∏—Å—å –Ω–∞ –º–æ–∫—Ä–æ–π —Ç—Ä–∞–≤–µ -1",
            "–í—ã –∑–∞—Ü–µ–ø–∏–ª–∏—Å—å –∑–∞ –∫—É—Å—Ç -1",
            "–í–∞–º –≤ –≥–ª–∞–∑ –ø–æ–ø–∞–ª–∞ —Å–æ—Ä–∏–Ω–∫–∞ -1",
            "–í—ã —á—É—Ç—å –Ω–µ —É–ø–∞–ª–∏ –≤ —è–º—É -1",
            "–í—ã –Ω–∞—Å—Ç—É–ø–∏–ª–∏ –Ω–∞ —à–∏—à–∫—É -1",
            "–í–∞—Å –æ–±–¥–∞–ª–æ –≤–µ—Ç–∫–æ–π -1"
        ];
        const walk5 = [
            "–í—ã –Ω–∞—à–ª–∏ –ø–æ–ª—è–Ω—É —Å –º—è–≥–∫–∏–º –º—Ö–æ–º, –≤–∞—Å –æ–¥–æ–ª–µ–ª–æ —á—É–≤—Å—Ç–≤–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ +3",
            "–í—ã –Ω–∞—Ç–∫–Ω—É–ª–∏—Å—å –Ω–∞ –≥—Ä–∏–±–Ω–æ–µ –º–µ—Å—Ç–æ –∏ —Å—ä–µ–ª–∏ –≥—Ä–∏–±—ã –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ +3",
            "–í—ã –ø—Ä–æ—à–ª–∏ –ø–æ —Å–æ–ª–Ω–µ—á–Ω–æ–π –æ–ø—É—à–∫–µ +3",
            "–í–∞–º –ø–æ–≤—Å—Ç—Ä–µ—á–∞–ª—Å—è –∑–∞–π—á–∏–∫, –æ–Ω –ø–æ–¥–Ω—è–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ +3",
            "–í—ã –Ω–∞—à–ª–∏ —Ä–æ–¥–Ω–∏–∫ —Å —á–∏—Å—Ç–æ–π –≤–æ–¥–æ–π +3",
            "–í—ã —É–≤–∏–¥–µ–ª–∏ –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤—É—é –ø—Ç–∏—á–∫—É, –æ–Ω–∞ —Å–ø–µ–ª–∞ –≤–∞–º +3",
            "–í—ã –≤—ã—à–ª–∏ –Ω–∞ —Ç—Ä–æ–ø—É, –∏–¥—Ç–∏ —Å—Ç–∞–ª–æ –ª–µ–≥—á–µ +3",
            "–í–∞—Å –æ–±–¥—É–ª —Ç—ë–ø–ª—ã–π –≤–µ—Ç–µ—Ä–æ–∫ +3",
            "–í—ã –Ω–∞—à–ª–∏ —Å—ä–µ–¥–æ–±–Ω—ã–µ –∫–æ—Ä–µ–Ω—å—è –∏ —Å—ä–µ–ª–∏ –∏—Ö +3",
            "–í—ã —É–≤–∏–¥–µ–ª–∏ –∫—Ä–∞—Å–∏–≤—ã–π –ø–µ–π–∑–∞–∂, –æ—Ç–≤–ª–µ–∫–ª–∏—Å—å –∏ –æ—Ç–¥–æ—Ö–Ω—É–ª–∏ +3"
        ];
        const walk3 = [
            "–í—ã –ø—Ä–æ—à–ª–∏ –ø–æ —Ç–µ–Ω—ë—á–∫—É +1",
            "–ù–∞ –≤–∞—Å –∫—Ä–∞—Å–∏–≤–æ –ø–∞–¥–∞–ª —Å–≤–µ—Ç +1",
            "–í—ã –ø–æ–¥—É–º–∞–ª–∏ —á—Ç–æ –¥–æ–º–∞ –≤–∞—Å –∂–¥—É—Ç –∏ –Ω–∞–ø–æ–ª–Ω–∏–ª–∏—Å—å —Ä–µ—à–∏–º–æ—Å—Ç—å—é +1",
            "–í—ã –≤—Å–ø–æ–º–Ω–∏–ª–∏ –≤–µ—Å—ë–ª—É—é –ø–µ—Å–µ–Ω–∫—É, –æ–Ω–∞ –≤–∞—Å —É—Å–ø–æ–∫–æ–∏–ª–∞ +1",
            "–í–∞–º –ø–æ–∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ –≤—ã —É–∑–Ω–∞—ë—Ç–µ —ç—Ç–æ –º–µ—Å—Ç–æ +1",
            "–í—ã –≤—Ä–æ–¥–µ –∑–∞–º–µ—Ç–∏–ª–∏ –∑–Ω–∞–∫–æ–º—ã–π –æ—Ä–∏–µ–Ω—Ç–∏—Ä +1",
            "–í—ã –Ω–∞—Ç–∫–Ω—É–ª–∏—Å—å –Ω–∞ —Å—Ç–∞—Ä—ã–µ —Å–ª–µ–¥—ã +1",
            "–í–∞–º —Å—Ç–∞–ª–æ —á—É—Ç—å –ª–µ–≥—á–µ –æ—Ç –º—ã—Å–ª–∏, —á—Ç–æ –≤–∞—Å –∏—â—é—Ç +1",
            "–í—ã –Ω–∞—à–ª–∏ —Å—ä–µ–¥–æ–±–Ω—ã–π –≥—Ä–∏–± +1",
            "–í—ã –≤—ã–ø–∏–ª–∏ –≤–æ–¥—ã –∏–∑ —Ä—É—á—å—è +1"
        ];
        const walk4 = [
            "–í—ã –Ω–∞—Å—Ç—É–ø–∏–ª–∏ –≤ –≥–ª—É–±–æ–∫—É—é –ª—É–∂—É -4",
            "–í—ã –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å –≤ —è–º—É —Å –≤–æ–¥–æ–π -4",
            "–í–∞—Å –∑–∞–ª–∏–ª–æ –¥–æ–∂–¥—ë–º -4",
            "–í—ã –∑–∞–±—Ä–µ–ª–∏ –≤ –±–æ–ª–æ—Ç–æ -4",
            "–í—ã –ø–æ—Ä–∞–Ω–∏–ª–∏—Å—å –æ —Å—É—Ö—É—é –≤–µ—Ç–∫—É -4",
            "–í–∞—Å —É–∫—É—Å–∏–ª —Å–ª–µ–ø–µ–Ω—å -4",
            "–í—ã –ø–æ—Ç–µ—Ä—è–ª–∏ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ –∏ —É–ø–∞–ª–∏ –Ω–∞ –∫–æ–ª—é—á–∫–∏ -4",
            "–í—ã –Ω–∞—Å—Ç—É–ø–∏–ª–∏ –Ω–∞ –æ—Å—Ç—Ä—ã–π –∫–∞–º–µ–Ω—å -4",
            "–í–∞—Å –æ–±–ª–µ–ø–∏–ª–∏ –∫–æ–ª—é—á–∫–∏ -4",
            "–í—ã –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å –≤ –Ω–æ—Ä—É -4"
        ];
        const walk2 = [
            "–ù–∏—á–µ–≥–æ –æ—Å–æ–±–µ–Ω–Ω–æ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ.",
            "–í—ã –ø—Ä–æ—Å—Ç–æ –∏–¥—ë—Ç–µ –¥–∞–ª—å—à–µ.",
            "–í –ª–µ—Å—É —Ç–∏—Ö–æ –∏ —Å–ø–æ–∫–æ–π–Ω–æ.",
            "–í—ã —Å–ª—ã—à–∏—Ç–µ –¥–∞–ª—ë–∫–∏–π —Å—Ç—É–∫ –¥—è—Ç–ª–∞.",
            "–í–µ—Ç–µ—Ä —à–µ–ª–µ—Å—Ç–∏—Ç –ª–∏—Å—Ç–≤–æ–π.",
            "–í—ã –≤–∏–¥–∏—Ç–µ –±–µ–ª–æ—á–∫—É –Ω–∞ –¥–µ—Ä–µ–≤–µ.",
            "–í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Ç—Ä–∞–≤—É –ø–æ–¥ –Ω–æ–≥–∞–º–∏.",
            "–í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –∑–∞–ø–∞—Ö —Ö–≤–æ–∏.",
            "–í–æ–∫—Ä—É–≥ –Ω–∏ –¥—É—à–∏.",
            "–í—ã –∏–¥—ë—Ç–µ –ø–æ –º—è–≥–∫–æ–π —Ç—Ä–∞–≤–µ."
        ];
        const rest1 = [
            "–í–∞—Å —É–∂–∞–ª–∏–ª–∞ –ø—á–µ–ª–∞ -4",
            "–í–∞—Å —É–∫—É—Å–∏–ª –º—É—Ä–∞–≤–µ–π -4",
            "–í—ã —Å–µ–ª–∏ –Ω–∞ –º—É—Ä–∞–≤–µ–π–Ω–∏–∫ -4",
            "–ù–∞ –≤–∞—Å —É–ø–∞–ª–∞ —à–∏—à–∫–∞ -4",
            "–í–∞—Å –æ–±–ª–µ–ø–∏–ª–∏ –∫–æ–º–∞—Ä—ã -4",
            "–í—ã –æ—Ç–¥–æ—Ö–Ω—É–ª–∏ –Ω–∞ —Ö–æ–ª–æ–¥–Ω–æ–π –∑–µ–º–ª–µ –∏ –∑–∞–º—ë—Ä–∑–ª–∏ -4",
            "–†—è–¥–æ–º –ø—Ä–æ–±–µ–∂–∞–ª –∫–∞–±–∞–Ω, –≤—ã –∏—Å–ø—É–≥–∞–ª–∏—Å—å -4",
            "–í—ã –ø—Ä–∏—Å–µ–ª–∏ –Ω–∞ –≥–Ω–∏–ª–æ–µ –±—Ä–µ–≤–Ω–æ –∏ –æ–Ω–æ –ø—Ä–æ–≤–∞–ª–∏–ª–æ—Å—å -4",
            "–í–∞—Å –æ–±—Ä—ã–∑–≥–∞–ª–æ –≥—Ä—è–∑—å—é –æ—Ç –ø—Ä–æ—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–µ—Ä—è -4",
            "–í—ã –≤—ã–ø–∏–ª–∏ –≤–æ–¥—ã –∏–∑ —Ä—É—á—å—è –∏ –æ–Ω–∞ –æ–∫–∞–∑–∞–ª–∞—Å—å –≥—Ä—è–∑–Ω–æ–π -4"
        ];
        const rest5 = [
            "–ë–µ–ª–æ—á–∫–∞ –ø–æ–¥–µ–ª–∏–ª–∞—Å—å —Å –≤–∞–º–∏ –æ—Ä–µ—à–∫–∞–º–∏ +2",
            "–í—ã –Ω–∞—à–ª–∏ —Å—ä–µ–¥–æ–±–Ω—ã–µ –≥—Ä–∏–±—ã +2",
            "–í—ã —Å–µ–ª–∏ –Ω–∞ —É–¥–æ–±–Ω—ã–π –º–æ—Ö +2",
            "–ö—Ç–æ-—Ç–æ –æ—Å—Ç–∞–≤–∏–ª –ø—É—Å—Ç–æ–µ –ø–æ–ª–æ—Ç–Ω–æ –ø–æ—Å–ª–µ –ø–∏–∫–Ω–∏–∫–∞, –≤—ã —É–¥–æ–±–Ω–æ –Ω–∞ –Ω—ë–º –æ—Ç–¥–æ—Ö–Ω—É–ª–∏ +2",
            "–í—ã –Ω–∞—à–ª–∏ —É–¥–æ–±–Ω—ã–π –ø–µ–Ω—å –¥–ª—è —Å–∏–¥–µ–Ω–∏—è +2",
            "–í–∞—Å —Å–æ–≥—Ä–µ–ª —Å–æ–ª–Ω–µ—á–Ω—ã–π –ª—É—á +2",
            "–í–æ–∫—Ä—É–≥ –≤–∞—Å –±—ã–ª–æ –º–Ω–æ–≥–æ –¥–µ—Ä–µ–≤—å–µ–≤, –æ–Ω–∏ –∑–∞—â–∏—Ç–∏–ª–∏ –æ—Ç –≤–µ—Ç—Ä–∞ +2",
            "–†—è–¥–æ–º –∑–∞–ø–µ–ª —Å–æ–ª–æ–≤–µ–π, —Å—Ç–∞–ª–æ —Å–ø–æ–∫–æ–π–Ω–æ +2",
            "–í—ã –Ω–∞—à–ª–∏ –Ω–µ–º–Ω–æ–≥–æ –º—ë–¥–∞ –≤ –¥—É–ø–ª–µ +2",
            "–í—ã –ø–æ–ª–µ–∂–∞–ª–∏ –Ω–∞ –º—è–≥–∫–æ–π —Ç—Ä–∞–≤–µ +2"
        ];
        const rest3 = [
            "–í—ã –Ω–∞—à–ª–∏ —Ö–æ—Ä–æ—à–µ–µ –º–µ—Å—Ç–µ—á–∫–æ –¥–ª—è –æ—Ç–¥—ã—Ö–∞ +1",
            "–í—ã –ø—Ä–∏–ª–µ–≥–ª–∏ –Ω–∞ –º—è–≥–∫–∏–π –º–æ—Ö +1",
            "–í—ã –æ—Ç–¥–æ—Ö–Ω—É–ª–∏ –ø–æ–¥ –¥–µ—Ä–µ–≤–æ–º +1",
            "–í–∞–º —Å—Ç–∞–ª–æ –ª–µ–≥—á–µ –ø–æ—Å–ª–µ –æ—Ç–¥—ã—Ö–∞ +1",
            "–í—ã –≤—ã–ø–∏–ª–∏ –≤–æ–¥—ã +1",
            "–í—ã —Ä–∞–∑–º—è–ª–∏ –Ω–æ–≥–∏ +1",
            "–í—ã –ø–æ–Ω–∞–±–ª—é–¥–∞–ª–∏ –∑–∞ –±–µ–ª–∫–æ–π +1",
            "–í—ã —Å–æ–±—Ä–∞–ª–∏ –Ω–µ–º–Ω–æ–≥–æ —Ü–≤–µ—Ç–æ—á–∫–æ–≤, —ç—Ç–æ —É—Å–ø–æ–∫–æ–∏–ª–æ +1",
            "–í—ã –Ω–∞—à–ª–∏ —Å—É—Ö–æ–µ –º–µ—Å—Ç–æ +1",
            "–í—ã –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–∏–¥–µ–ª–∏ –≤ —Ç–∏—à–∏–Ω–µ +1"
        ];
        const rest4 = [
            "–ë—ã–ª–æ —Å–ª–∏—à–∫–æ–º –∂–∞—Ä–∫–æ, –≤—ã –Ω–µ —Å–º–æ–≥–ª–∏ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å -2",
            "–ë—ã–ª–æ —Å–ª–∏—à–∫–æ–º —Ö–æ–ª–æ–¥–Ω–æ -2",
            "–ù–∞—á–∞–ª—Å—è –¥–æ–∂–¥—å -2",
            "–í–∞—Å –±–µ—Å–ø–æ–∫–æ–∏–ª–∏ –Ω–∞—Å–µ–∫–æ–º—ã–µ -2",
            "–†—è–¥–æ–º –ø—Ä–æ—à—ë–ª –∑–≤–µ—Ä—å, –≤—ã –Ω–∞–ø—Ä—è–≥–ª–∏—Å—å -2",
            "–í—ã —Å–µ–ª–∏ –Ω–∞ –º–æ–∫—Ä–æ–µ –º–µ—Å—Ç–æ -2",
            "–í–∞—Å –æ—Ç–≤–ª–µ–∫–ª–∏ –∑–≤—É–∫–∏ -2",
            "–í—ã –Ω–µ –º–æ–≥–ª–∏ –Ω–∞–π—Ç–∏ —É–¥–æ–±–Ω—É—é –ø–æ–∑—É -2",
            "–í–∞–º –º–µ—à–∞–ª –≤–µ—Ç–µ—Ä -2",
            "–í—ã –ø–æ–ø—ã—Ç–∞–ª–∏—Å—å –∑–∞–±—Ä–∞—Ç—å—Å—è –Ω–∞ –≤–µ—Ç–∫—É, –Ω–æ —É–ø–∞–ª–∏ -2"
        ];
        const rest2 = [
            "–í—ã —Å–ø–æ–∫–æ–π–Ω–æ –æ—Ç–¥–æ—Ö–Ω—É–ª–∏",
            "–ù–∏—á–µ–≥–æ –Ω–µ —Å–ª—É—á–∏–ª–æ—Å—å",
            "–í—ã –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–∏–¥–µ–ª–∏",
            "–í–æ–∫—Ä—É–≥ —Ç–∏—à–∏–Ω–∞",
            "–í—ã –ø–æ–¥—ã—à–∞–ª–∏ —Å–≤–µ–∂–∏–º –≤–æ–∑–¥—É—Ö–æ–º",
            "–í–∞–º —Å—Ç–∞–ª–æ –Ω–µ–º–Ω–æ–≥–æ —Å–ø–æ–∫–æ–π–Ω–µ–µ",
            "–í—ã —Å–ª—É—à–∞–ª–∏ –ø–µ–Ω–∏–µ –ø—Ç–∏—Ü",
            "–í—ã —Å–º–æ—Ç—Ä–µ–ª–∏ –Ω–∞ –æ–±–ª–∞–∫–∞",
            "–í—ã –ø—Ä–∏–∫—Ä—ã–ª–∏ –≥–ª–∞–∑–∞ –Ω–∞ –º–∏–Ω—É—Ç—É",
            "–û—Ç–¥—ã—Ö –ø—Ä–æ—à—ë–ª —Ö–æ—Ä–æ—à–æ"
        ];
        const run1 = [
            "–í—ã —Å–ª–∏—à–∫–æ–º —É—Å—Ç–∞–ª–∏ -3",
            "–í—ã –∑–∞–ø—ã—Ö–∞–ª–∏—Å—å -3",
            "–í—ã —Å–ø–æ—Ç–∫–Ω—É–ª–∏—Å—å –Ω–∞ –±–µ–≥—É -3",
            "–í—ã –ø–æ–¥–≤–µ—Ä–Ω—É–ª–∏ –Ω–æ–≥—É -3",
            "–£ –≤–∞—Å —Å–≤–µ–ª–æ –º—ã—à—Ü—É -3",
            "–í—ã –Ω–∞—Ç—ë—Ä–ª–∏ –Ω–æ–≥—É -3",
            "–í—ã —É–ø–∞–ª–∏ –æ—Ç —É—Å—Ç–∞–ª–æ—Å—Ç–∏ -3",
            "–í–∞–º —Å—Ç–∞–ª–æ –ø–ª–æ—Ö–æ –æ—Ç –±—ã—Å—Ç—Ä–æ–≥–æ –±–µ–≥–∞ -3",
            "–í—ã —Å–±–∏–ª–∏—Å—å —Å –¥—ã—Ö–∞–Ω–∏—è -3",
            "–í—ã –ø–µ—Ä–µ–≥—Ä–µ–ª–∏—Å—å -3"
        ];
        const run5 = [
            "–í—ã –≤–∑–±–æ–¥—Ä–∏–ª–∏—Å—å –∏ –≤–∞–º —Å—Ç–∞–ª–æ —Ö–æ—Ä–æ—à–æ +5",
            "–í—ã –Ω–∞—à–ª–∏ –≤—Ç–æ—Ä–æ–µ –¥—ã—Ö–∞–Ω–∏–µ +5",
            "–ë–µ–≥ —Ä–∞–∑–æ–≥—Ä–µ–ª –º—ã—à—Ü—ã +5",
            "–í—ã –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∏ –ø—Ä–∏–ª–∏–≤ —Å–∏–ª +5",
            "–í–∞–º –ø–æ–∫–∞–∑–æ–ª–æ—Å—å —á—Ç–æ –≤—ã —Å–ª—ã—à–∏—Ç–µ –≥–æ–ª–æ—Å–∞ +5",
            "–í–∞—Å –ø–æ–¥—Å—Ç–µ–≥–Ω—É–ª –∞–¥—Ä–µ–Ω–∞–ª–∏–Ω +5",
            "–í—ã –ø—Ä–æ–±–µ–∂–∞–ª–∏ –º–∏–º–æ –∫—Ä–∞—Å–∏–≤–æ–≥–æ –º–µ—Å—Ç–∞ +5",
            "–í—ã –¥–æ–≥–Ω–∞–ª–∏ –∑–∞–π—Ü–∞ +5",
            "–í—ã –Ω–∞—à–ª–∏ —Ç—Ä–æ–ø—É +5",
            "–í–∞–º –ø–æ–∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ –≤—ã —É—Å–ª—ã—à–∞–ª–∏ –∑–≤—É–∫ –º–∞—à–∏–Ω—ã –≤–¥–∞–ª–µ–∫–µ +5"
        ];
        const run3 = [
            "–í—ã –Ω–∞—à–ª–∏ –∫—É—á—É –µ–¥—ã –ø–æ—Å–ª–µ –ø–∏–∫–Ω–∏–∫–∞ +9",
            "–í—ã –Ω–∞—Ç–∫–Ω—É–ª–∏—Å—å –Ω–∞ –≥—Ä–∏–±–Ω—É—é –ø–æ–ª—è–Ω—É +9",
            "–í—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ —è–≥–æ–¥–Ω–∏–∫ +9",
            "–í—ã –Ω–∞—à–ª–∏ —Ä—é–∫–∑–∞–∫ —Å –ø—Ä–∏–ø–∞—Å–∞–º–∏ +9",
            "–í–∞–º –ø–æ–≤–µ–∑–ª–æ –Ω–∞—Ç–∫–Ω—É—Ç—å—Å—è –Ω–∞ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫—É—é —Å—Ç–æ—è–Ω–∫—É +9",
            "–í—ã –Ω–∞—à–ª–∏ —è–±–ª–æ–Ω—é, —Å –∫—É—á–µ–π —è–±–ª–æ–∫ +9",
            "–í—ã –Ω–∞—à–ª–∏ –¥–µ—Ä–µ–≤–æ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞—Å—Ç—ë—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–∏—à–µ–Ω +9",
            "–í—ã –Ω–∞—à–ª–∏ —á—å—é-—Ç–æ –æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é –∫–æ—Ä–∑–∏–Ω–∫—É —Å –µ–¥–æ–π +9",
            "–í—ã –æ–±–Ω–æ—Ä—É–∂–∏–ª–∏ –¥–µ—Ä–µ–≤–æ –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞—Å—Ç—ë—Ç –º–Ω–æ–≥–æ –≥—Ä—É—à +9",
            "–í—ã –Ω–∞—à–ª–∏ –∫—É—Å—Ç –∂–∏–º–æ—Å–æ—Ç–∏ +9"
        ];
        const run4 = [
            "–í–æ–ª–∫ –≤–∞—Å –Ω–∞—à—ë–ª -6",
            "–í—ã –Ω–∞—Å—Ç—É–ø–∏–ª–∏ –Ω–∞ –∑–º–µ—é -6",
            "–í–∞—Å –ø–æ–≥–Ω–∞–ª—Å—è –∫–∞–±–∞–Ω -6",
            "–í—ã –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å –≤ –æ–≤—Ä–∞–≥ -6",
            "–í—ã —Å–∏–ª—å–Ω–æ –ø–æ—Ä–∞–Ω–∏–ª–∏—Å—å –æ –≤–µ—Ç–∫—É -6",
            "–í–∞—Å —É–∫—É—Å–∏–ª–∞ –∑–º–µ—è -6",
            "–í—ã —Å–ø–æ—Ç–∫–Ω—É–ª–∏—Å—å –∏ —É–ø–∞–ª–∏ -6",
            "–í–∞—Å –∑–∞–ª–∏–ª–æ –¥–æ–∂–¥—ë–º -6",
            "–í—ã —É–ø–∞–ª–∏ –≤ –∫—É—Å—Ç –∫—Ä–∞–ø–∏–≤—ã -6",
            "–í–∞—Å –∞—Ç–∞–∫–æ–≤–∞–ª–∏ –æ—Å—ã -6"
        ];
        const run2 = [
            "–í—ã –±–µ–∂–∏—Ç–µ –≤ —Å–ø–æ–∫–æ–π–Ω–æ–º —Ç–µ–º–ø–µ",
            "–ù–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç",
            "–í—ã —Å–ª—ã—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Å–≤–æ—ë –¥—ã—Ö–∞–Ω–∏–µ",
            "–õ–µ—Å –º–µ–ª—å–∫–∞–µ—Ç –ø–µ—Ä–µ–¥ –≥–ª–∞–∑–∞–º–∏",
            "–í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –ø—Ä–∏–ª–∏–≤ —ç–Ω–µ—Ä–≥–∏–∏",
            "–í–∞–º –Ω—Ä–∞–≤–∏—Ç—Å—è –±–µ–∂–∞—Ç—å",
            "–í—ã –æ–≥–∏–±–∞–µ—Ç–µ –¥–µ—Ä–µ–≤—å—è",
            "–¢—Ä–æ–ø–∏–Ω–∫–∞ —Ä–æ–≤–Ω–∞—è",
            "–í—ã –±–µ–∂–∏—Ç–µ —É–∂–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç",
            "–í–µ—Ç–µ—Ä –¥—É–µ—Ç –≤ –ª–∏—Ü–æ"
        ];
        const run_rare = [
            "–í–∞—Å –æ–∫—Ä—É–∂–∏–ª–∞ —Å—Ç–∞—è –≤–æ–ª–∫–æ–≤ -9",
            "–ù–∞ –≤–∞—Å –Ω–∞–ø–∞–ª –º–µ–¥–≤–µ–¥—å -9",
            "–í—ã –ø–æ–ø–∞–ª–∏ –≤ –∫–∞–ø–∫–∞–Ω -9",
            "–í—ã —Å–æ—Ä–≤–∞–ª–∏—Å—å —Å –æ–±—Ä—ã–≤–∞ -9",
            "–í–∞—Å –∑–∞—Å—Ç–∞–ª–∞ –±—É—Ä—è -9",
            "–í—ã –∑–∞–±–ª—É–¥–∏–ª–∏—Å—å –≤ –±–æ–ª–æ—Ç–µ -9",
            "–í–∞—Å –ø—Ä–µ—Å–ª–µ–¥—É–µ—Ç —Å—Ç–∞—è –∫–∞–±–∞–Ω–æ–≤ -9",
            "–†—è–¥–æ–º —Å –≤–∞–º–∏ —É–¥–∞—Ä–∏–ª–∞ –º–æ–ª–Ω–∏—è -9",
            "–í–∞—Å –ø—Ä–∏–¥–∞–≤–∏–ª–æ –¥–µ—Ä–µ–≤–æ–º -9",
            "–í—ã —É–ø–∞–ª–∏ –≤ –æ–±–º–æ—Ä–æ–∫ -9"
        ];

        const loot = ["—è–≥–æ–¥—ã", "–æ—Ä–µ—à–∫–∏", "—á–µ–π-—Ç–æ –±—É—Ç–µ—Ä–±—Ä–æ–¥", "–Ω–∏—á–µ–≥–æ"];

        // –°–ª–æ–≤–∞—Ä—å –∫–æ–º–∞–Ω–¥-—Å–∏–Ω–æ–Ω–∏–º–æ–≤
        const commands = {
            "–∏–¥—Ç–∏": 1, "—à–∞–≥–∞—Ç—å": 1, "walk": 1, "–∏—Ç–¥–∏": 1,
            "–æ—Ç–¥—ã—Ö–∞—Ç—å": 2, "rest": 2, "–æ—Ç–¥—ã—Ö": 2, "–æ–¥—ã—Ö–∞—Ç—å": 2,
            "–±–µ–∂–∞—Ç—å": 3, "run": 3, "–±–µ–≥–∞—Ç—å": 3, "–ø–æ–±–µ–≥–∞—Ç—å": 3, "–ø–æ–±–µ–∂–∞—Ç—å": 3,
            "—Å—Ç–∞—Ç—É—Å": 4, "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å": 4, "—Ä—é–∫–∑–∞–∫": 4, "–∏–Ω–≤–µ—Ä–Ω–∞—Ç—å": 4
        };

        // DOM-—ç–ª–µ–º–µ–Ω—Ç—ã
        const startScreen = document.getElementById('startScreen');
        const gameScreen = document.getElementById('gameScreen');
        const energySpan = document.getElementById('energyVal');
        const stepsSpan = document.getElementById('stepsVal');
        const runSpan = document.getElementById('runVal');
        const turnSpan = document.getElementById('turnVal');
        const inventoryDiv = document.getElementById('inventoryContainer');
        const logContainer = document.getElementById('logContainer');
        const useItemPanel = document.getElementById('useItemPanel');
        const itemInput = document.getElementById('itemInput');
        const useItemBtn = document.getElementById('useItemBtn');
        const closeUsePanelBtn = document.getElementById('closeUsePanelBtn');
        const restartBtn = document.getElementById('restartBtn');

        const goBtn = document.getElementById('goBtn');
        const restBtn = document.getElementById('restBtn');
        const runBtn = document.getElementById('runBtn');
        const statusBtn = document.getElementById('statusBtn');

        // –ö–Ω–æ–ø–∫–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
        document.querySelectorAll('.diff-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                difficulty = e.target.getAttribute('data-diff');
                startGame(difficulty);
            });
        });

        // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
        restartBtn.addEventListener('click', () => {
            gameScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
            disableButtons(true);
            gameActive = true;
            useItemPanel.classList.add('hidden');
            restartBtn.classList.add('hidden');
        });

        function addLog(message) {
            const msgDiv = document.createElement('div');
            msgDiv.className = 'log-message';
            msgDiv.textContent = message;
            logContainer.appendChild(msgDiv);
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        function clearLog() {
            logContainer.innerHTML = '';
        }

        function updateUI() {
            energySpan.textContent = e;
            stepsSpan.textContent = steps;
            runSpan.textContent = run;
            turnSpan.textContent = hod;
            inventoryDiv.innerHTML = '';
            if (inventory.length === 0) {
                inventoryDiv.innerHTML = '<div class="item-tag" style="background: #416336;">üß∫ –ø—É—Å—Ç–æ</div>';
            } else {
                inventory.forEach(item => {
                    const tag = document.createElement('div');
                    tag.className = 'item-tag';
                    let icon = '';
                    if (item.includes('—è–≥–æ–¥')) icon = 'üçì';
                    else if (item.includes('–æ—Ä–µ—à')) icon = 'ü•ú';
                    else if (item.includes('–±—É—Ç–µ—Ä–±—Ä–æ–¥')) icon = 'ü•™';
                    else if (item.includes('–ø–∏—Ä–æ–≥')) icon = 'ü•ß';
                    else if (item.includes('—è–±–ª–æ–∫')) icon = 'üçé';
                    else if (item.includes('—Ç—Ä–æ—Å—Ç—å')) icon = 'ü©º';
                    else if (item.includes('–∫–æ–º–ø–∞—Å')) icon = 'üß≠';
                    else icon = 'üì¶';
                    tag.textContent = icon + ' ' + item;
                    inventoryDiv.appendChild(tag);
                });
            }
        }

        function removeOneFromInventory(itemName) {
            const index = inventory.indexOf(itemName);
            if (index !== -1) inventory.splice(index, 1);
        }

        function randomChoice(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function checkWinLose() {
            if (e >= 20 && steps >= 10 && run >= 5 && inventory.includes("–∫–æ–º–ø–∞—Å")) {
                const wins = [
                    "–í—ã —Å–º–æ–≥–ª–∏ —Å–±–µ–∂–∞—Ç—å –∏–∑ –ª–µ—Å–∞ –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –¥–æ–º–æ–π",
                    "–ü–µ—Ä–µ–ø—É–≥–∞–Ω–Ω—ã–µ –±–ª–∏–∑–∫–∏–µ –Ω–∞—à–ª–∏ –≤–∞—Å, –≤–∞–º –ø—Ä–∏—à–ª–æ—Å—å –ª–µ–∂–∞—Ç—å –≤ –±–æ–ª—å–Ω–∏—Ü–µ, –Ω–æ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –≤—Å—ë –≤–µ—Ä–Ω—É–ª–æ—Å—å –Ω–∞ –∫—Ä—É–≥–∏ —Å–≤–æ—è",
                    "–í–∞—Å –Ω–∞—à–ª–∏ —Å–ø–∞—Å–∞—Ç–µ–ª–∏, –≤—Å—ë –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å —Ö–æ—Ä–æ—à–æ",
                    "–í—ã —Å–º–æ–≥–ª–∏ —Å–±–µ–∂–∞—Ç—å, –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—ã –±–æ–ª—å—à–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö–æ–¥–∏–ª–∏ –≤ –ª–µ—Å"
                ];
                addLog("‚ú®‚ú®‚ú® –ü–û–ë–ï–î–ê ‚ú®‚ú®‚ú®");
                addLog(randomChoice(wins));
                gameActive = false;
                disableButtons(true);
                useItemPanel.classList.add('hidden');
                restartBtn.classList.remove('hidden');
                return;
            }
            if (e <= 0) {
                const deaths = [
                    "–í—ã —É—Å–Ω—É–ª–∏ –ø–æ–¥ –∫—É—Å—Ç–æ–º. –ù–∞–≤—Å–µ–≥–¥–∞",
                    "–õ–µ—Å –ø—Ä–∏–Ω—è–ª –≤–∞—Å –≤ —Å–≤–æ–∏ –æ–±—ä—è—Ç–∏—è. –ù–∞–≤—Å–µ–≥–¥–∞",
                    "–ì—Ä–∏–±–Ω–∏–∫–∏ –Ω–∞–π–¥—É—Ç –≤–∞—à–∏ –∫–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –≥–æ–¥",
                    "–í—ã —Å—Ç–∞–ª–∏ —á–∞—Å—Ç—å—é —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã"
                ];
                addLog("üíÄüíÄüíÄ –í–´ –ü–û–ì–ò–ë–õ–ò üíÄüíÄüíÄ");
                addLog(randomChoice(deaths));
                gameActive = false;
                disableButtons(true);
                useItemPanel.classList.add('hidden');
                restartBtn.classList.remove('hidden');
                return;
            }
            if (e >= 20 && run > 5 && inventory.includes("–∫–æ–º–ø–∞—Å") && steps < 10) {
                addLog("–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å—Å—è –∏–∑ –ª–µ—Å–∞ –Ω—É–∂–Ω–æ –ø–æ—Ö–æ–¥–∏—Ç—å");
            } else if (e >= 20 && run < 5 && inventory.includes("–∫–æ–º–ø–∞—Å") && steps > 10) {
                addLog("–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å—Å—è –∏–∑ –ª–µ—Å–∞ –Ω—É–∂–Ω–æ –ø–æ–±–µ–≥–∞—Ç—å");
            } else if (e >= 20 && run > 5 && !inventory.includes("–∫–æ–º–ø–∞—Å") && steps > 10) {
                addLog("–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å—Å—è –∏–∑ –ª–µ—Å–∞ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∫–æ–º–ø–∞—Å");
            } else if (e < 20 && run > 5 && inventory.includes("–∫–æ–º–ø–∞—Å") && steps > 10) {
                addLog("–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å—Å—è –∏–∑ –ª–µ—Å–∞ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ —ç–Ω–µ—Ä–≥–∏–∏");
            } else if (e >= 20 && run < 5 && inventory.includes("–∫–æ–º–ø–∞—Å") && steps < 10) {
                addLog("–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å—Å—è –∏–∑ –ª–µ—Å–∞ –Ω—É–∂–Ω–æ –ø–æ–±–µ–≥–∞—Ç—å –∏ –ø–æ—Ö–æ–¥–∏—Ç—å");
            } else if (e >= 20 && run < 5 && !inventory.includes("–∫–æ–º–ø–∞—Å") && steps < 10) {
                addLog("–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å—Å—è –∏–∑ –ª–µ—Å–∞ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∫–æ–º–ø–∞—Å, —Ç–∞–∫–∂–µ –ø–æ—Ö–æ–¥–∏—Ç—å –∏ –ø–æ–±–µ–≥–∞—Ç—å");
            }
        }

        function disableButtons(disabled) {
            const btns = [goBtn, restBtn, runBtn, statusBtn, useItemBtn, closeUsePanelBtn];
            btns.forEach(b => b.disabled = disabled);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∫–Ω–æ–ø–æ–∫ (–∫—É–ª–¥–∞—É–Ω)
        function cooldownButtons(ms) {
            if (!gameActive) return;
            const btns = [goBtn, restBtn, runBtn, statusBtn, useItemBtn, closeUsePanelBtn];
            btns.forEach(b => b.disabled = true);
            setTimeout(() => {
                if (gameActive) {
                    btns.forEach(b => b.disabled = false);
                }
            }, ms);
        }

        function startGame(diff) {
            hod = 1;
            steps = 0;
            run = 0;
            inventory = [];
            gameActive = true;

            if (diff === "–ª–µ–≥–∫–æ") {
                e = 20;
                addLog("–£—Ç—Ä–æ–º –≤—ã —Ä–µ—à–∏–ª–∏ –ø–æ–π—Ç–∏ —Å–æ–±–∏—Ä–∞—Ç—å –≥—Ä–∏–±—ã –∏ —è–≥–æ–¥—ã –≤ –ª–µ—Å. –£ –≤–∞—Å –º–Ω–æ–≥–æ —Å–∏–ª, –≤—ã –≤—ã—Å–ø–∞–ª–∏—Å—å –∏ –≤–∫—É—Å–Ω–æ –ø–æ–∫—É—à–∞–ª–∏ –ø–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º. –ù–æ –≤—ã –∑–∞–±–ª—É–¥–∏–ª–∏—Å—å, –≤–∞–º –Ω—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å—Å—è –∏–∑ –ª–µ—Å–∞");
            } else if (diff === "—Å–ª–æ–∂–Ω–æ") {
                e = 5;
                addLog("–í—ã —à–ª–∏ —á–µ—Ä–µ–∑ –ª–µ—Å –Ω–æ—á—å—é –ø–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã, —á—Ç–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –ø—É—Ç—å –¥–æ–º–æ–π. –£ –≤–∞—Å –ø–æ—á—Ç–∏ –Ω–µ—Ç —Å–∏–ª, –≤—ã –≤—ã–º–æ—Ç–∞–Ω—ã, –Ω–æ –¥–æ–º–∞ –∂–¥—É—Ç, –≤–∞–º –Ω–∞–¥–æ –≤—ã–±—Ä–∞—Ç—å—Å—è");
            } else if (diff === "—Å—Ä–µ–¥–Ω–µ") {
                e = 15;
                addLog("–í—ã –ø–æ—à–ª–∏ –≤ –ª–µ—Å –∑–∞ —Ö–≤–æ—Ä–æ—Å—Ç–æ–º –¥–ª—è –∫–æ—Å—Ç—Ä–∞. –î–µ–Ω—å –≤—ã–¥–∞–ª—Å—è –æ–±—ã—á–Ω—ã–π, —Å–∏–ª —Ö–≤–∞—Ç–∏—Ç –Ω–µ–Ω–∞–¥–æ–ª–≥–æ, –Ω–æ –≤—ã –∑–Ω–∞–µ—Ç–µ —ç—Ç–∏ –º–µ—Å—Ç–∞... –∏–ª–∏ —Ç–æ–ª—å–∫–æ –∫–∞–∑–∞–ª–æ—Å—å?");
            } else {
                e = 8;
                addLog("–°—Ç—Ä–∞–Ω–Ω—ã–π –≤—ã–±–æ—Ä, –Ω–æ –≤—ã —É–∂–µ –≤ –ª–µ—Å—É. –ü—Ä–∏–¥—ë—Ç—Å—è –≤—ã–∂–∏–≤–∞—Ç—å –∫–∞–∫ –µ—Å—Ç—å");
            }

            startScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            clearLog();
            updateUI();
            disableButtons(false);
            useItemPanel.classList.add('hidden');
            restartBtn.classList.add('hidden');
            addLog(`–≠–Ω–µ—Ä–≥–∏—è: ${e}`);
        }

        // ---------- –î–µ–π—Å—Ç–≤–∏—è —Å –∫—É–ª–¥–∞—É–Ω–æ–º –∏ –≤—ã–≤–æ–¥–æ–º —Ö–æ–¥–∞ ----------
        function goAction() {
            if (!gameActive) return;
            cooldownButtons(500);
            let currentHod = hod;
            addLog(`–•–æ–¥ ${currentHod}`);
            hod++;
            e -= 1;
            steps += 1;
            addLog("–í—ã –ø–æ—à–ª–∏ –¥–∞–ª—å—à–µ -1");

            let chance = Math.floor(Math.random() * 5) + 1;
            if (chance === 1) {
                e -= 1;
                addLog(randomChoice(walk1));
            } else if (chance === 5) {
                e += 3;
                addLog(randomChoice(walk5));
            } else if (chance === 3) {
                e += 1;
                addLog(randomChoice(walk3));
            } else if (chance === 4) {
                e -= 4;
                addLog(randomChoice(walk4));
            } else {
                addLog(randomChoice(walk2));
            }

            let rare = Math.floor(Math.random() * 10) + 1;
            if (rare === 5) {
                e -= 5;
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –ø–æ–ø–∞–ª–∏ –≤ —á—å—é —Ç–æ –ª–æ–≤—É—à–∫—É -5");
            } else if (rare === 6) {
                e += 5;
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –Ω–∞—à–ª–∏ —Ç—Ä–æ—Å—Ç—å, —Å –Ω–µ–π —Ö–æ–¥–∏—Ç—å –±—É–¥–µ—Ç –ø—Ä–æ—â–µ +5");
                inventory.push("—Ç—Ä–æ—Å—Ç—å");
                addLog("—Ç—Ä–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä—é–∫–∑–∞–∫!");
            }

            let rareGlobal = Math.floor(Math.random() * 15) + 1;
            if (rareGlobal === 1) {
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –Ω–∞—à–ª–∏ –ø–∏—Ä–æ–≥");
                inventory.push("–ø–∏—Ä–æ–≥");
                addLog("–ü–∏—Ä–æ–≥ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä—é–∫–∑–∞–∫!");
            } else if (rareGlobal === 2) {
                e -= 7;
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏ –º–µ–¥–≤–µ–¥—è -7");
            } else if (rareGlobal === 3) {
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –Ω–∞—à–ª–∏ –Ω–∞ —Ä–µ–¥–∫–æ—Å—Ç—å –≤–∫—É—Å–Ω–æ–µ —è–±–ª–æ–∫–æ");
                inventory.push("—è–±–ª–æ–∫–æ");
                addLog("–Ø–±–ª–æ–∫–æ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä—é–∫–∑–∞–∫!");
            } else if (rareGlobal === 4) {
                e -= 2;
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í–∞—Å —É–∫—É—Å–∏–ª –∫–æ–º–∞—Ä -2 —ç–Ω–µ—Ä–≥–∏–∏");
            }

            let rareCompass = Math.floor(Math.random() * 50) + 1;
            if (rareCompass === 50) {
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –Ω–∞—à–ª–∏ –∫–æ–º–ø–∞—Å!");
                inventory.push("–∫–æ–º–ø–∞—Å");
                addLog("–ö–æ–º–ø–∞—Å –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä—é–∫–∑–∞–∫!");
            }

            if (hod % 6 === 0) {
                let found = randomChoice(loot);
                addLog(`–í—ã –Ω–∞—à–ª–∏: ${found}`);
                if (found === "—è–≥–æ–¥—ã") {
                    inventory.push("—è–≥–æ–¥—ã");
                    addLog("–Ø–≥–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ä—é–∫–∑–∞–∫!");
                } else if (found === "–æ—Ä–µ—à–∫–∏") {
                    inventory.push("–æ—Ä–µ—à–∫–∏");
                    addLog("–û—Ä–µ—à–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ä—é–∫–∑–∞–∫!");
                } else if (found === "—á–µ–π-—Ç–æ –±—É—Ç–µ—Ä–±—Ä–æ–¥") {
                    inventory.push("—á–µ–π-—Ç–æ –±—É—Ç–µ—Ä–±—Ä–æ–¥");
                    addLog("—á–µ–π-—Ç–æ –±—É—Ç–µ—Ä–±—Ä–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä—é–∫–∑–∞–∫!");
                }
            }

            if (inventory.includes("—Ç—Ä–æ—Å—Ç—å")) {
                e += 1;
                addLog("–° —Ç—Ä–æ—Å—Ç—å—é –≤–∞–º –ø—Ä–æ—â–µ +1");
                if (Math.floor(Math.random() * 10) + 1 === 10) {
                    removeOneFromInventory("—Ç—Ä–æ—Å—Ç—å");
                    addLog(randomChoice([
                        "–í–∞—à–∞ —Ç—Ä–æ—Å—Ç—å –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é —Å–ª–æ–º–∞–ª–∞—Å—å",
                        "–í—ã –ø–æ—Ç–µ—Ä—è–ª–∏ —Å–≤–æ—é —Ç—Ä–æ—Å—Ç—å"
                    ]));
                }
            }
            if (inventory.includes("–∫–æ–º–ø–∞—Å") && Math.floor(Math.random() * 30) + 1 === 30) {
                removeOneFromInventory("–∫–æ–º–ø–∞—Å");
                addLog(randomChoice([
                    "–ö–æ–º–ø–∞—Å —É–ø–∞–ª –Ω–∞ –∫–∞–º–µ–Ω—å –∏ —Ä–∞–∑–±–∏–ª—Å—è",
                    "–í—ã –ø–æ—Ç–µ—Ä—è–ª–∏ —Å–≤–æ–π –∫–æ–º–ø–∞—Å"
                ]));
            }

            addLog(`–≠–Ω–µ—Ä–≥–∏—è: ${e}`);
            updateUI();
            checkWinLose();
        }

        function restAction() {
            if (!gameActive) return;
            cooldownButtons(500);
            let currentHod = hod;
            addLog(`–•–æ–¥ ${currentHod}`);
            hod++;
            e += 2;
            addLog("–í—ã –æ—Ç–¥—ã—Ö–∞–µ—Ç–µ +2");

            let chance = Math.floor(Math.random() * 5) + 1;
            if (chance === 1) {
                e -= 4;
                addLog(randomChoice(rest1));
            } else if (chance === 5) {
                e += 2;
                addLog(randomChoice(rest5));
                inventory.push("–æ—Ä–µ—à–∫–∏");
            } else if (chance === 3) {
                e += 1;
                addLog(randomChoice(rest3));
            } else if (chance === 4) {
                e -= 2;
                addLog(randomChoice(rest4));
            } else {
                addLog(randomChoice(rest2));
            }

            let rareGlobal = Math.floor(Math.random() * 15) + 1;
            if (rareGlobal === 1) {
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –Ω–∞—à–ª–∏ –ø–∏—Ä–æ–≥");
                inventory.push("–ø–∏—Ä–æ–≥");
                addLog("–ü–∏—Ä–æ–≥ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä—é–∫–∑–∞–∫!");
            } else if (rareGlobal === 2) {
                e -= 7;
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏ –º–µ–¥–≤–µ–¥—è -7");
            } else if (rareGlobal === 3) {
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –Ω–∞—à–ª–∏ –Ω–∞ —Ä–µ–¥–∫–æ—Å—Ç—å –≤–∫—É—Å–Ω–æ–µ —è–±–ª–æ–∫–æ");
                inventory.push("—è–±–ª–æ–∫–æ");
                addLog("–Ø–±–ª–æ–∫–æ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä—é–∫–∑–∞–∫!");
            } else if (rareGlobal === 4) {
                e -= 2;
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í–∞—Å —É–∫—É—Å–∏–ª –∫–æ–º–∞—Ä -2 —ç–Ω–µ—Ä–≥–∏–∏");
            }

            let rareCompass = Math.floor(Math.random() * 50) + 1;
            if (rareCompass === 50) {
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –Ω–∞—à–ª–∏ –∫–æ–º–ø–∞—Å!");
                inventory.push("–∫–æ–º–ø–∞—Å");
                addLog("–ö–æ–º–ø–∞—Å –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä—é–∫–∑–∞–∫!");
            }

            if (hod % 6 === 0) {
                let found = randomChoice(loot);
                addLog(`–í—ã –Ω–∞—à–ª–∏: ${found}`);
                if (found === "—è–≥–æ–¥—ã") {
                    inventory.push("—è–≥–æ–¥—ã");
                    addLog("–Ø–≥–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ä—é–∫–∑–∞–∫!");
                } else if (found === "–æ—Ä–µ—à–∫–∏") {
                    inventory.push("–æ—Ä–µ—à–∫–∏");
                    addLog("–û—Ä–µ—à–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ä—é–∫–∑–∞–∫!");
                } else if (found === "—á–µ–π-—Ç–æ –±—É—Ç–µ—Ä–±—Ä–æ–¥") {
                    inventory.push("—á–µ–π-—Ç–æ –±—É—Ç–µ—Ä–±—Ä–æ–¥");
                    addLog("—á–µ–π-—Ç–æ –±—É—Ç–µ—Ä–±—Ä–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä—é–∫–∑–∞–∫!");
                }
            }

            if (inventory.includes("—Ç—Ä–æ—Å—Ç—å")) {
                e += 1;
                addLog("–° —Ç—Ä–æ—Å—Ç—å—é –≤–∞–º –ø—Ä–æ—â–µ +1");
                if (Math.floor(Math.random() * 10) + 1 === 10) {
                    removeOneFromInventory("—Ç—Ä–æ—Å—Ç—å");
                    addLog(randomChoice([
                        "–í–∞—à–∞ —Ç—Ä–æ—Å—Ç—å –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é —Å–ª–æ–º–∞–ª–∞—Å—å",
                        "–í—ã –ø–æ—Ç–µ—Ä—è–ª–∏ —Å–≤–æ—é —Ç—Ä–æ—Å—Ç—å"
                    ]));
                }
            }
            if (inventory.includes("–∫–æ–º–ø–∞—Å") && Math.floor(Math.random() * 30) + 1 === 30) {
                removeOneFromInventory("–∫–æ–º–ø–∞—Å");
                addLog(randomChoice([
                    "–ö–æ–º–ø–∞—Å —É–ø–∞–ª –Ω–∞ –∫–∞–º–µ–Ω—å –∏ —Ä–∞–∑–±–∏–ª—Å—è",
                    "–í—ã –ø–æ—Ç–µ—Ä—è–ª–∏ —Å–≤–æ–π –∫–æ–º–ø–∞—Å"
                ]));
            }

            addLog(`–≠–Ω–µ—Ä–≥–∏—è: ${e}`);
            updateUI();
            checkWinLose();
        }

        function runAction() {
            if (!gameActive) return;
            cooldownButtons(500);
            let currentHod = hod;
            addLog(`–•–æ–¥ ${currentHod}`);
            hod++;
            e -= 3;
            run += 1;
            addLog("–í—ã –±–µ–∂–∏—Ç–µ -3");

            let chance = Math.floor(Math.random() * 5) + 1;
            if (chance === 1) {
                e -= 3;
                addLog(randomChoice(run1));
            } else if (chance === 5) {
                e += 5;
                addLog(randomChoice(run5));
            } else if (chance === 3) {
                e += 9;
                addLog(randomChoice(run3));
            } else if (chance === 4) {
                e -= 6;
                addLog(randomChoice(run4));
            } else {
                addLog(randomChoice(run2));
            }

            let rareRun = Math.floor(Math.random() * 10) + 1;
            if (rareRun === 7) {
                e -= 9;
                addLog(randomChoice(run_rare));
            }

            let rareGlobal = Math.floor(Math.random() * 15) + 1;
            if (rareGlobal === 1) {
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –Ω–∞—à–ª–∏ –ø–∏—Ä–æ–≥");
                inventory.push("–ø–∏—Ä–æ–≥");
                addLog("–ü–∏—Ä–æ–≥ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä—é–∫–∑–∞–∫!");
            } else if (rareGlobal === 2) {
                e -= 7;
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏ –º–µ–¥–≤–µ–¥—è -7");
            } else if (rareGlobal === 3) {
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –Ω–∞—à–ª–∏ –Ω–∞ —Ä–µ–¥–∫–æ—Å—Ç—å –≤–∫—É—Å–Ω–æ–µ —è–±–ª–æ–∫–æ");
                inventory.push("—è–±–ª–æ–∫–æ");
                addLog("–Ø–±–ª–æ–∫–æ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä—é–∫–∑–∞–∫!");
            } else if (rareGlobal === 4) {
                e -= 2;
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í–∞—Å —É–∫—É—Å–∏–ª –∫–æ–º–∞—Ä -2 —ç–Ω–µ—Ä–≥–∏–∏");
            }

            let rareCompass = Math.floor(Math.random() * 50) + 1;
            if (rareCompass === 50) {
                addLog("–†–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –Ω–∞—à–ª–∏ –∫–æ–º–ø–∞—Å!");
                inventory.push("–∫–æ–º–ø–∞—Å");
                addLog("–ö–æ–º–ø–∞—Å –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä—é–∫–∑–∞–∫!");
            }

            if (hod % 6 === 0) {
                let found = randomChoice(loot);
                addLog(`–í—ã –Ω–∞—à–ª–∏: ${found}`);
                if (found === "—è–≥–æ–¥—ã") {
                    inventory.push("—è–≥–æ–¥—ã");
                    addLog("–Ø–≥–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ä—é–∫–∑–∞–∫!");
                } else if (found === "–æ—Ä–µ—à–∫–∏") {
                    inventory.push("–æ—Ä–µ—à–∫–∏");
                    addLog("–û—Ä–µ—à–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ä—é–∫–∑–∞–∫!");
                } else if (found === "—á–µ–π-—Ç–æ –±—É—Ç–µ—Ä–±—Ä–æ–¥") {
                    inventory.push("—á–µ–π-—Ç–æ –±—É—Ç–µ—Ä–±—Ä–æ–¥");
                    addLog("—á–µ–π-—Ç–æ –±—É—Ç–µ—Ä–±—Ä–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä—é–∫–∑–∞–∫!");
                }
            }

            if (inventory.includes("—Ç—Ä–æ—Å—Ç—å")) {
                e += 1;
                addLog("–° —Ç—Ä–æ—Å—Ç—å—é –≤–∞–º –ø—Ä–æ—â–µ +1");
                if (Math.floor(Math.random() * 10) + 1 === 10) {
                    removeOneFromInventory("—Ç—Ä–æ—Å—Ç—å");
                    addLog(randomChoice([
                        "–í–∞—à–∞ —Ç—Ä–æ—Å—Ç—å –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é —Å–ª–æ–º–∞–ª–∞—Å—å",
                        "–í—ã –ø–æ—Ç–µ—Ä—è–ª–∏ —Å–≤–æ—é —Ç—Ä–æ—Å—Ç—å"
                    ]));
                }
            }
            if (inventory.includes("–∫–æ–º–ø–∞—Å") && Math.floor(Math.random() * 30) + 1 === 30) {
                removeOneFromInventory("–∫–æ–º–ø–∞—Å");
                addLog(randomChoice([
                    "–ö–æ–º–ø–∞—Å —É–ø–∞–ª –Ω–∞ –∫–∞–º–µ–Ω—å –∏ —Ä–∞–∑–±–∏–ª—Å—è",
                    "–í—ã –ø–æ—Ç–µ—Ä—è–ª–∏ —Å–≤–æ–π –∫–æ–º–ø–∞—Å"
                ]));
            }

            addLog(`–≠–Ω–µ—Ä–≥–∏—è: ${e}`);
            updateUI();
            checkWinLose();
        }

        function openInventoryPanel() {
            if (!gameActive) return;
            cooldownButtons(500);
            let currentHod = hod;
            addLog(`–•–æ–¥ ${currentHod}`);
            hod++;
            addLog("–°—Ç–∞—Ç—É—Å:");
            addLog(`–®–∞–≥–æ–≤ —Å–¥–µ–ª–∞–Ω–æ: ${steps}, –ü—Ä–æ–±–µ–∂–µ–∫: ${run}`);
            addLog("–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å: " + (inventory.length ? inventory.join(", ") : "–ø—É—Å—Ç–æ"));
            
            if (useItemPanel.classList.contains('hidden')) {
                useItemPanel.classList.remove('hidden');
                // 50% —à–∞–Ω—Å –ø–æ—Ç–µ—Ä—è—Ç—å —ç–Ω–µ—Ä–≥–∏—é –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
                if (Math.random() < 0.5) {
                    e -= 1;
                    addLog("–ü–æ–∫–∞ –≤—ã –¥—É–º–∞–ª–∏ —á—Ç–æ –≤—ã —Å–¥–µ–ª–∞–ª–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è, –≤—ã —É—Å—Ç–∞–ª–∏ -1");
                }
                updateUI();
                checkWinLose();
            }
        }

        function useItemFromInput() {
            if (!gameActive) return;
            cooldownButtons(500);
            const itemName = itemInput.value.trim().toLowerCase();
            itemInput.value = '';

            if (!itemName) {
                addLog("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞");
                return;
            }

            if (!inventory.includes(itemName)) {
                addLog("–£ –≤–∞—Å –Ω–µ—Ç —ç—Ç–æ–≥–æ");
                return;
            }

            if (itemName === "—è–≥–æ–¥—ã") {
                e += 2;
                removeOneFromInventory("—è–≥–æ–¥—ã");
                addLog("–í—ã —Å—ä–µ–ª–∏ —è–≥–æ–¥—ã +2");
            } else if (itemName === "–æ—Ä–µ—à–∫–∏") {
                e += 2;
                removeOneFromInventory("–æ—Ä–µ—à–∫–∏");
                addLog("–í—ã —Å—ä–µ–ª–∏ –æ—Ä–µ—à–∫–∏ +2");
            } else if (itemName === "—á–µ–π-—Ç–æ –±—É—Ç–µ—Ä–±—Ä–æ–¥") {
                e += 4;
                removeOneFromInventory("—á–µ–π-—Ç–æ –±—É—Ç–µ—Ä–±—Ä–æ–¥");
                addLog("–í—ã —Å—ä–µ–ª–∏ —á–µ–π-—Ç–æ –±—É—Ç–µ—Ä–±—Ä–æ–¥ +4");
            } else if (itemName === "–ø–∏—Ä–æ–≥") {
                e += 4;
                removeOneFromInventory("–ø–∏—Ä–æ–≥");
                addLog("–í—ã —Å—ä–µ–ª–∏ –ø–∏—Ä–æ–≥ +4");
            } else if (itemName === "—è–±–ª–æ–∫–æ") {
                e += 3;
                removeOneFromInventory("—è–±–ª–æ–∫–æ");
                addLog("–í—ã —Å—ä–µ–ª–∏ –≤–∫—É—Å–Ω–æ–µ —è–±–ª–æ–∫–æ +3");
            } else if (itemName === "—Ç—Ä–æ—Å—Ç—å") {
                addLog("–° —Ç—Ä–æ—Å—Ç—å—é —É–¥–æ–±–Ω–µ–µ, –Ω–æ –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –µ—ë —Å—ä–µ—Å—Ç—å :)");
            } else if (itemName === "–∫–æ–º–ø–∞—Å") {
                addLog("–ö–æ–º–ø–∞—Å –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –Ω–∞–π—Ç–∏—Å—å, –Ω–æ –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –µ–≥–æ —Å—ä–µ—Å—Ç—å :)");
            } else {
                addLog("–£ –≤–∞—Å –Ω–µ—Ç —ç—Ç–æ–≥–æ");
            }

            // –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç–Ω–µ—Ä–≥–∏—é –Ω–µ —Å–Ω–∏–º–∞–µ–º
            useItemPanel.classList.add('hidden');
            updateUI();
            checkWinLose();
        }

        function closeUsePanel() {
            if (!gameActive) return;
            cooldownButtons(500);
            useItemPanel.classList.add('hidden');
            addLog("–í—ã –∑–∞–∫—Ä—ã–ª–∏ —Ä—é–∫–∑–∞–∫");
            // –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —ç–Ω–µ—Ä–≥–∏—é –Ω–µ —Å–Ω–∏–º–∞–µ–º
            updateUI();
        }

        // –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
        goBtn.addEventListener('click', goAction);
        restBtn.addEventListener('click', restAction);
        runBtn.addEventListener('click', runAction);
        statusBtn.addEventListener('click', openInventoryPanel);
        useItemBtn.addEventListener('click', useItemFromInput);
        closeUsePanelBtn.addEventListener('click', closeUsePanel);
        itemInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') useItemFromInput();
        });

        // –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –∏–≥—Ä–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞
        disableButtons(true);
    })();
</script>
</body>
</html>